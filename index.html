<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Sliders</title>
    <style>
        @font-face {
            font-family: 'Circular Std';
            src: url('path/to/CircularStd-Bold.woff2') format('woff2'),
                 url('path/to/CircularStd-Bold.woff') format('woff');
            font-weight: bold;
            font-style: normal;
        }

        body {
            font-family: 'Circular Std', sans-serif;
            font-weight: bold;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }
        .slider {
            margin-right: 10px;
        }
        .slider-label {
            width: 100px; /* Adjust width as needed */
            text-align: right;
            margin-right: 10px;
        }
        .max-input {
            margin-left: 10px;
            width: 50px;
        }
        .calculated-value {
            margin-left: 10px;
        }
        .value {
            display: inline-block;
            width: 40px; /* Adjust width as needed */
            text-align: right;
        }

        .total-Occupancy {
            display: inline-block;
            width: 10px; /* Adjust width as needed */
            text-align: right;
        }

        h2 {
            font-size: 18px; /* Adjust the size as needed */
            width: 200px; /* Adjust width as needed */
            text-align: right;
        }

        .header-container {
            display: flex;
            align-items: center;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        .header-label {
            width: 200px; /* Adjust width as needed */
            margin-left: 180px;
            text-align: right;
        }

    </style>
</head>
<body>
    <div class="header-container">
        <span class="header-label">Antal pers</span>
    </div>
    <div id="sliders">
        <div class="slider-container">
            <span class="slider-label">1-pers</span>
            <input type="range" min="0" max="100" value="0" class="slider" id="slider1" oninput="updateValue(1)">
            <span class="value" id="value1">0%</span>
            <input type="number" class="max-input" id="max1" value="329" oninput="updateMax(1)">
            <span class="calculated-value" id="calculated1">0</span>
        </div>
        <div class="slider-container">
            <span class="slider-label">2-pers</span>
            <input type="range" min="0" max="100" value="0" class="slider" id="slider2" oninput="updateValue(2)">
            <span class="value" id="value2">0%</span>
            <input type="number" class="max-input" id="max2" value="550" oninput="updateMax(2)">
            <span class="calculated-value" id="calculated2">0</span>
        </div>
        <div class="slider-container">
            <span class="slider-label">4-pers</span>
            <input type="range" min="0" max="100" value="0" class="slider" id="slider3" oninput="updateValue(3)">
            <span class="value" id="value3">0%</span>
            <input type="number" class="max-input" id="max3" value="700" oninput="updateMax(3)">
            <span class="calculated-value" id="calculated3">0</span>
        </div>
        <div class="slider-container">
            <span class="slider-label">Landskap</span>
            <input type="range" min="0" max="100" value="0" class="slider" id="slider4" oninput="updateValue(4)">
            <span class="value" id="value4">0%</span>
            <input type="number" class="max-input" id="max4" value="1500" oninput="updateMax(4)">
            <span class="calculated-value" id="calculated4">0</span>
        </div>
    </div>
    <h2>Total: <span class= "total-Occupancy" id="totalOccupancy">100%</span></h2>

    <script>
        function updateValue(sliderNumber) {
            const slider1 = document.getElementById('slider1');
            const slider2 = document.getElementById('slider2');
            const slider3 = document.getElementById('slider3');
            const slider4 = document.getElementById('slider4');

            const value1 = parseInt(slider1.value);
            const value2 = parseInt(slider2.value);
            const value3 = parseInt(slider3.value);
            const value4 = parseInt(slider4.value);

            let totalOccupancy = value1 + value2 + value3 + value4;
            const maxtotalOccupancy = 100;

            if (totalOccupancy > maxtotalOccupancy) {
                let excess = totalOccupancy - maxtotalOccupancy;
                const values = [value1, value2, value3, value4];
                const sliders = [slider1, slider2, slider3, slider4];

                for (let i = 3; i >= 0; i--) {
                    if (i !== sliderNumber - 1 && values[i] > 0) {
                        let decrease = Math.min(values[i], excess);
                        values[i] -= decrease;
                        sliders[i].value = values[i];
                        excess -= decrease;
                        if (excess <= 0) break;
                    }
                }
                if (excess > 0) {
                    sliders[sliderNumber - 1].value = values[sliderNumber - 1] - excess;
                }
            }

            totalOccupancy = parseInt(slider1.value) + parseInt(slider2.value) + parseInt(slider3.value) + parseInt(slider4.value);
            document.getElementById('totalOccupancy').textContent = totalOccupancy + '%';

            document.getElementById('value1').textContent = slider1.value + '%';
            document.getElementById('value2').textContent = slider2.value + '%';
            document.getElementById('value3').textContent = slider3.value + '%';
            document.getElementById('value4').textContent = slider4.value + '%';

            document.getElementById('calculated1').textContent = calculateValue(slider1.value, document.getElementById('max1').value);
            document.getElementById('calculated2').textContent = calculateValue(slider2.value, document.getElementById('max2').value);
            document.getElementById('calculated3').textContent = calculateValue(slider3.value, document.getElementById('max3').value);
            document.getElementById('calculated4').textContent = calculateValue(slider4.value, document.getElementById('max4').value);
        }

        function calculateValue(value, maxInputValue) {
            return (value * maxInputValue / 100).toFixed(0);
        }

        function updateMax(sliderNumber) {
            const slider = document.getElementById('slider' + sliderNumber);
            const maxInput = document.getElementById('max' + sliderNumber);
            slider.max = 100; // Always set slider max to 100
        }
    </script>
</body>
</html>
